# ç³»ç»Ÿæ‰©å±•å’Œä¼˜åŒ–å»ºè®®

## 1. ğŸš€ æ¨èå¢åŠ çš„åŠŸèƒ½

### ğŸ”¥ é«˜ä¼˜å…ˆçº§ï¼ˆå®ç”¨æ€§å¼ºï¼‰

#### 1.1 å¤šè‚¡ç¥¨å¯¹æ¯”åˆ†æ
**åŠŸèƒ½æè¿°**ï¼š
- åŒæ—¶åˆ†æå¤šåªè‚¡ç¥¨ï¼ˆ2-5åªï¼‰
- æ¨ªå‘å¯¹æ¯”èµ„é‡‘æµå‘ã€æ¶¨è·Œå¹…
- æ‰¾å‡ºæ¿å—è”åŠ¨å’Œå¼‚åŠ¨è‚¡ç¥¨

**å®ç°éš¾åº¦**ï¼šâ­â­â­
**ä»·å€¼**ï¼šâ­â­â­â­â­

**å®ç°æ€è·¯**ï¼š
```python
# UI: æ”¯æŒè¾“å…¥å¤šä¸ªä»£ç 
stock_codes = st.text_input("è‚¡ç¥¨ä»£ç ï¼ˆé€—å·åˆ†éš”ï¼‰", "300661,000001,600519")
codes_list = [c.strip() for c in stock_codes.split(',')]

# å¾ªç¯è·å–å¹¶å¯¹æ¯”
for code in codes_list:
    df = get_data(code)
    analyze(df)
    
# åˆ›å»ºå¯¹æ¯”å›¾è¡¨
comparison_chart = create_comparison(all_results)
```

---

#### 1.2 å†å²å›æµ‹åŠŸèƒ½
**åŠŸèƒ½æè¿°**ï¼š
- å›æµ‹èµ„é‡‘æµå‘ç­–ç•¥ï¼šå¤§å•æµå…¥åNå¤©çš„æ”¶ç›Š
- éªŒè¯æŒ‡æ ‡æœ‰æ•ˆæ€§
- è¾“å‡ºå†å²å‡†ç¡®ç‡

**å®ç°éš¾åº¦**ï¼šâ­â­â­â­
**ä»·å€¼**ï¼šâ­â­â­â­â­

**ç¤ºä¾‹**ï¼š
```
ç­–ç•¥ï¼šä¸»åŠ›å½“å¤©å‡€æµå…¥>1000ä¸‡ï¼Œæ¬¡æ—¥ä¹°å…¥
å›æµ‹æœŸï¼šæœ€è¿‘30å¤©
èƒœç‡ï¼š65%
å¹³å‡æ”¶ç›Šï¼š+2.3%
```

---

#### 1.3 å®æ—¶ç›‘æ§å’Œé¢„è­¦
**åŠŸèƒ½æè¿°**ï¼š
- è®¾ç½®é¢„è­¦æ¡ä»¶ï¼ˆå¦‚ï¼šå¤§å•è¶…è¿‡500ä¸‡ç«‹å³é€šçŸ¥ï¼‰
- WebSocketå®æ—¶æ¨é€
- å£°éŸ³/æµè§ˆå™¨é€šçŸ¥

**å®ç°éš¾åº¦**ï¼šâ­â­â­â­
**ä»·å€¼**ï¼šâ­â­â­â­

**æŠ€æœ¯æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨ `streamlit-autorefresh` ç»„ä»¶
- æˆ–è€…é›†æˆ WebSocket æœåŠ¡
- browser notification API

---

#### 1.4 è‚¡ç¥¨ä»£ç æ™ºèƒ½åŒ¹é…
**åŠŸèƒ½æè¿°**ï¼š
- è¾“å…¥è‚¡ç¥¨åç§°è‡ªåŠ¨åŒ¹é…ä»£ç 
- æ‹¼éŸ³æœç´¢ï¼ˆå¦‚ï¼šzgpa â†’ ä¸­å›½å¹³å®‰ï¼‰
- æ¨¡ç³ŠåŒ¹é…

**å®ç°éš¾åº¦**ï¼šâ­â­
**ä»·å€¼**ï¼šâ­â­â­â­

**å®ç°**ï¼š
```python
import akshare as ak

# è·å–è‚¡ç¥¨åˆ—è¡¨
stock_list = ak.stock_zh_a_spot_em()

def search_stock(query):
    # æ”¯æŒä»£ç ã€åç§°ã€æ‹¼éŸ³
    results = stock_list[
        stock_list['åç§°'].str.contains(query) |
        stock_list['ä»£ç '].str.contains(query)
    ]
    return results

# UI
search = st.text_input("æœç´¢è‚¡ç¥¨")
if search:
    matches = search_stock(search)
    selected = st.selectbox("é€‰æ‹©", matches['åç§°'] + ' ' + matches['ä»£ç '])
```

---

### ğŸ’¡ ä¸­ä¼˜å…ˆçº§ï¼ˆä½“éªŒæå‡ï¼‰

#### 1.5 è‡ªé€‰è‚¡æ”¶è—å¤¹
- ä¿å­˜å¸¸ç”¨è‚¡ç¥¨ä»£ç 
- ä¸€é”®åˆ‡æ¢åˆ†æ
- LocalStorage æŒä¹…åŒ–

#### 1.6 æŠ¥å‘Šå¯¼å‡ºåŠŸèƒ½
- ç”Ÿæˆ PDF åˆ†ææŠ¥å‘Š
- åŒ…å«æ‰€æœ‰å›¾è¡¨å’Œå…³é”®æŒ‡æ ‡
- ä¸€é”®åˆ†äº«

#### 1.7 æ¿å—çƒ­åº¦åˆ†æ
- æ˜¾ç¤ºå½“å¤©çƒ­é—¨æ¿å—
- æ¿å—èµ„é‡‘æµå‘
- é¾™å¤´è‚¡ç¥¨è¯†åˆ«

#### 1.8 Kçº¿å½¢æ€è¯†åˆ«
- è¯†åˆ«ç»å…¸Kçº¿å½¢æ€ï¼ˆå¤´è‚©é¡¶ã€Wåº•ç­‰ï¼‰
- è‡ªåŠ¨æ ‡æ³¨å…³é”®ç‚¹ä½
- æç¤ºæ½œåœ¨è¶‹åŠ¿

---

### ğŸ¨ ä½ä¼˜å…ˆçº§ï¼ˆé”¦ä¸Šæ·»èŠ±ï¼‰

#### 1.9 AI æ™ºèƒ½è§£è¯»
- ä½¿ç”¨ AI ç”Ÿæˆåˆ†ææ‘˜è¦
- æç¤ºæŠ•èµ„å»ºè®®ï¼ˆä»…ä¾›å‚è€ƒï¼‰
- é›†æˆ ChatGPT API

#### 1.10 ç§»åŠ¨ç«¯ä¼˜åŒ–
- å“åº”å¼å¸ƒå±€ä¼˜åŒ–
- æ‰‹åŠ¿æ“ä½œ
- æ¨é€é€šçŸ¥

---

## 2. ğŸ“Š æ•°æ®æºæ›¿ä»£æ–¹æ¡ˆ

### é—®é¢˜åˆ†æï¼šTushare çš„é™åˆ¶

**Tushare Pro é™åˆ¶**ï¼š
- âŒ ç§¯åˆ†ç³»ç»Ÿå¤æ‚
- âŒ å…è´¹é¢åº¦æœ‰é™ï¼ˆ100ç§¯åˆ†ï¼‰
- âŒ é«˜é¢‘æ¥å£éœ€è¦é«˜ç§¯åˆ†
- âŒ åˆ†é’Ÿæ•°æ®æƒé™è¦æ±‚é«˜

### æ¨èæ›¿ä»£æ–¹æ¡ˆ

#### æ–¹æ¡ˆ1ï¼šAkShareï¼ˆå½“å‰ä½¿ç”¨ï¼‰â­â­â­â­

**ä¼˜ç‚¹**ï¼š
- âœ… å®Œå…¨å…è´¹
- âœ… æ•°æ®æºä¸°å¯Œï¼ˆä¸œè´¢ã€æ–°æµªã€è…¾è®¯ï¼‰
- âœ… å®æ—¶æ›´æ–°
- âœ… æ— éœ€æ³¨å†Œ

**ç¼ºç‚¹**ï¼š
- âš ï¸ ç¨³å®šæ€§ç•¥å·®ï¼ˆä¾èµ–ç¬¬ä¸‰æ–¹ç½‘ç«™ï¼‰
- âš ï¸ æ•°æ®è´¨é‡å‚å·®ä¸é½
- âš ï¸ å¯èƒ½è¢«åçˆ¬

**å»ºè®®**ï¼š**ç»§ç»­ä½œä¸ºä¸»è¦æ•°æ®æº**

---

#### æ–¹æ¡ˆ2ï¼šYFinanceï¼ˆYahoo Financeï¼‰â­â­â­â­â­

**ç‰¹ç‚¹**ï¼š
- âœ… **æ”¯æŒå…¨çƒè‚¡ç¥¨**ï¼ˆç¾è‚¡ã€æ¸¯è‚¡ã€Aè‚¡ï¼‰
- âœ… å®Œå…¨å…è´¹
- âœ… ç¨³å®šæ€§å¥½
- âœ… æ•°æ®è´¨é‡é«˜

**é™åˆ¶**ï¼š
- âš ï¸ Aè‚¡æ•°æ®ç¨å»¶è¿Ÿ
- âš ï¸ ä¸æ”¯æŒåˆ†ç§’çº§æ•°æ®

**å®‰è£…**ï¼š
```bash
pip install yfinance
```

**ç¤ºä¾‹**ï¼š
```python
import yfinance as yf

# Aè‚¡ï¼ˆéœ€è¦åŠ åç¼€ï¼‰
stock = yf.Ticker("600519.SS")  # ä¸Šäº¤æ‰€
stock = yf.Ticker("000001.SZ")  # æ·±äº¤æ‰€

# ç¾è‚¡
stock = yf.Ticker("AAPL")

# è·å–æ•°æ®
df = stock.history(period="1d", interval="1m")
```

**æ¨èç†ç”±**ï¼šå¦‚æœè¦æ”¯æŒ**ç¾è‚¡å’Œå…¨çƒå¸‚åœº**ï¼Œè¿™æ˜¯æœ€ä½³é€‰æ‹©ï¼

---

#### æ–¹æ¡ˆ3ï¼šæ–°æµªè´¢ç» APIï¼ˆç›´æ¥è®¿é—®ï¼‰â­â­â­

**ä¼˜ç‚¹**ï¼š
- âœ… å®æ—¶æ€§å¥½
- âœ… ä¸é™åˆ¶è°ƒç”¨
- âœ… æ•°æ®å‡†ç¡®

**å®ç°**ï¼š
```python
import requests
import pandas as pd

def get_sina_realtime(code):
    url = f"http://hq.sinajs.cn/list={code}"
    response = requests.get(url)
    # è§£ææ•°æ®
```

**ç¼ºç‚¹**ï¼š
- âš ï¸ æ²¡æœ‰å®˜æ–¹æ–‡æ¡£
- âš ï¸ å¯èƒ½éšæ—¶æ”¹æ¥å£

---

#### æ–¹æ¡ˆ4ï¼šèšå®½ï¼ˆJQDataï¼‰â­â­â­

**ç‰¹ç‚¹**ï¼š
- âœ… ä¸“ä¸šé‡‘èæ•°æ®
- âœ… è´¨é‡é«˜
- âœ… æœ‰å…è´¹é¢åº¦

**é™åˆ¶**ï¼š
- âŒ éœ€è¦æ³¨å†Œ
- âŒ å…è´¹é¢åº¦æœ‰é™
- âŒ ä»˜è´¹åæ‰èƒ½å¤§é‡ä½¿ç”¨

---

#### æ–¹æ¡ˆ5ï¼šä¸œæ–¹è´¢å¯Œ Choiceï¼ˆä¸“ä¸šç‰ˆï¼‰â­â­â­â­

**ç‰¹ç‚¹**ï¼š
- âœ… æ•°æ®æœ€å…¨æœ€å‡†
- âœ… å®æ—¶æ€§å¼º

**é™åˆ¶**ï¼š
- âŒ **ä»˜è´¹**ï¼ˆä¸ªäººç‰ˆçº¦3000å…ƒ/å¹´ï¼‰
- âŒ ä¸é€‚åˆä¸ªäººå­¦ä¹ 

---

### ğŸ¯ æ¨èç»„åˆæ–¹æ¡ˆ

**æœ€ä½³å®è·µ**ï¼š
```python
# ä¸»åŠ›ï¼šAkShareï¼ˆAè‚¡ï¼Œå…è´¹ï¼‰
if market == "Aè‚¡":
    use AkShare
    
# å¤‡ç”¨ï¼šYFinanceï¼ˆå…¨çƒè‚¡ç¥¨ï¼Œå…è´¹ï¼‰
elif market in ["ç¾è‚¡", "æ¸¯è‚¡"]:
    use YFinance
    
# äº’è¡¥ï¼šTushareï¼ˆç‰¹å®šéœ€æ±‚ï¼Œä½é¢‘è®¿é—®ï¼‰
if need_fundamental_data:
    use Tushare for è´¢åŠ¡æ•°æ®ã€è‚¡ä¸œæ•°æ®
```

---

## 3. ğŸ”§ AkShare æ½œåŠ›æŒ–æ˜

### å·²é›†æˆçš„åŠŸèƒ½
- âœ… å®æ—¶/å†å²åˆ†é’Ÿæ•°æ®
- âœ… åŸºç¡€Kçº¿æ•°æ®

### ğŸŒŸ å¯ä»¥å¢åŠ çš„ AkShare åŠŸèƒ½

#### 3.1 æ¿å—å’Œæ¦‚å¿µ
```python
# æ¦‚å¿µæ¿å—
ak.stock_board_concept_name_em()  # æ‰€æœ‰æ¦‚å¿µ
ak.stock_board_concept_cons_em(symbol="é”‚ç”µæ± ")  # æ¦‚å¿µæˆåˆ†è‚¡

# è¡Œä¸šæ¿å—
ak.stock_board_industry_name_em()
ak.stock_board_industry_cons_em(symbol="ç”µå­")

# å®ç°ï¼šæ·»åŠ "æ¿å—åˆ†æ"tab
```

#### 3.2 å¸‚åœºæƒ…ç»ªæŒ‡æ ‡
```python
# æ¶¨è·Œç»Ÿè®¡
ak.stock_zh_a_spot_em()

# é¾™è™æ¦œ
ak.stock_lhb_detail_em(start_date="20260115", end_date="20260115")

# åŒ—å‘èµ„é‡‘
ak.stock_hsgt_north_net_flow_in_em(symbol="æ²ªè‚¡é€š")

# å®ç°ï¼šæ·»åŠ "å¸‚åœºæƒ…ç»ª"ä»ªè¡¨ç›˜
```

#### 3.3 è´¢åŠ¡æ•°æ®
```python
# ä¸šç»©é¢„å‘Š
ak.stock_yjyg_em(date="2023-12-31")

# è´¢åŠ¡æŒ‡æ ‡
ak.stock_financial_analysis_indicator(symbol="600519")

# å®ç°ï¼šæ·»åŠ "åŸºæœ¬é¢åˆ†æ"æ¨¡å—
```

#### 3.4 æ–°é—»å’Œå…¬å‘Š
```python
# ä¸ªè‚¡æ–°é—»
ak.stock_news_em(symbol="600519")

# å…¬å‘Š
ak.stock_notice_report(symbol="600519")

# å®ç°ï¼šæ·»åŠ "èµ„è®¯ä¸­å¿ƒ"
```

#### 3.5 æŠ€æœ¯æŒ‡æ ‡ç›´æ¥è·å–
```python
# AkShare å·²è®¡ç®—å¥½çš„æŠ€æœ¯æŒ‡æ ‡
ak.stock_zh_a_hist_min_em(...)  # åŒ…å«MACDã€KDJç­‰

# å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå‡å°‘è®¡ç®—
```

#### 3.6 æœŸè´§ã€ETFã€å¯è½¬å€º
```python
# ETFæ•°æ®
ak.fund_etf_spot_em()

# æœŸè´§ä¸»åŠ›
ak.futures_main_sina()

# å¯è½¬å€º
ak.bond_cb_redeem_jsl()

# å®ç°ï¼šæ‰©å±•åˆ°å¤šèµ„äº§åˆ†æ
```

---

## 4. ğŸŒ å…¨çƒå¸‚åœºæ”¯æŒè®¡åˆ’

### å½“å‰é™åˆ¶
- âŒ åªæ”¯æŒAè‚¡ä»£ç ï¼ˆ6ä½çº¯æ•°å­—ï¼‰
- âŒ ä¸æ”¯æŒè‚¡ç¥¨åç§°è¾“å…¥
- âŒ ä¸æ”¯æŒç¾è‚¡ã€æ¸¯è‚¡ç­‰

### ä¼˜åŒ–æ–¹æ¡ˆ

#### 4.1 æ”¯æŒè‚¡ç¥¨åç§°æœç´¢

**å®ç°ä»£ç **ï¼š
```python
import akshare as ak

# è·å–è‚¡ç¥¨åˆ—è¡¨ï¼ˆå¯åŠ¨æ—¶åŠ è½½ä¸€æ¬¡ï¼‰
@st.cache_data(ttl=86400)  # ç¼“å­˜1å¤©
def load_stock_list():
    df = ak.stock_zh_a_spot_em()
    return df[['ä»£ç ', 'åç§°']]

stock_list = load_stock_list()

# UIæ”¹é€ 
input_method = st.radio("è¾“å…¥æ–¹å¼", ["ä»£ç ", "åç§°æœç´¢"])

if input_method == "åç§°æœç´¢":
    query = st.text_input("æœç´¢è‚¡ç¥¨åç§°æˆ–ä»£ç ", "å¹³å®‰")
    matches = stock_list[
        stock_list['åç§°'].str.contains(query) |
        stock_list['ä»£ç '].str.contains(query)
    ]
    
    if not matches.empty:
        options = matches.apply(lambda x: f"{x['åç§°']} ({x['ä»£ç ']})", axis=1)
        selected = st.selectbox("é€‰æ‹©è‚¡ç¥¨", options)
        stock_code = selected.split('(')[1].split(')')[0]
else:
    stock_code = st.text_input("è‚¡ç¥¨ä»£ç ", "300661")
```

---

#### 4.2 æ”¯æŒç¾è‚¡

**ä½¿ç”¨ YFinance**ï¼š

```python
import yfinance as yf

class YFinanceProvider:
    def get_stock_data(self, symbol):
        stock = yf.Ticker(symbol)
        df = stock.history(period="1d", interval="1m")
        
        # è½¬æ¢ä¸ºç»Ÿä¸€æ ¼å¼
        df_normalized = pd.DataFrame({
            'æ—¶é—´': df.index,
            'å¼€ç›˜': df['Open'],
            'æœ€é«˜': df['High'],
            'æœ€ä½': df['Low'],
            'æ”¶ç›˜': df['Close'],
            'æˆäº¤é‡': df['Volume'],
        })
        return df_normalized

# UI å¸‚åœºé€‰æ‹©
market = st.selectbox("å¸‚åœº", ["Aè‚¡", "ç¾è‚¡", "æ¸¯è‚¡"])

if market == "Aè‚¡":
    # ç°æœ‰é€»è¾‘
    provider = AkShareProvider()
elif market == "ç¾è‚¡":
    provider = YFinanceProvider()
    symbol = st.text_input("ç¾è‚¡ä»£ç ", "AAPL")
    # AAPL, TSLA, MSFT ç­‰
```

---

#### 4.3 æ”¯æŒæ¸¯è‚¡

**ä»£ç æ˜ å°„**ï¼š
```python
# æ¸¯è‚¡éœ€è¦åŠ åç¼€
hk_code = "00700"  # è…¾è®¯
yf_symbol = f"{hk_code}.HK"

stock = yf.Ticker(yf_symbol)
```

---

### å®Œæ•´çš„å¤šå¸‚åœºæ¶æ„

```python
class UniversalDataProvider:
    """ç»Ÿä¸€æ•°æ®æä¾›è€…"""
    
    def __init__(self, market="Aè‚¡"):
        self.market = market
        
        if market == "Aè‚¡":
            self.provider = AkShareProvider()
        elif market == "ç¾è‚¡":
            self.provider = YFinanceProvider()
        elif market == "æ¸¯è‚¡":
            self.provider = HKStockProvider()
    
    def get_data(self, symbol):
        # ç»Ÿä¸€æ¥å£
        return self.provider.get_tick_data(symbol)
```

**UIé›†æˆ**ï¼š
```python
# ä¾§è¾¹æ å¢åŠ å¸‚åœºé€‰æ‹©
market = st.selectbox("é€‰æ‹©å¸‚åœº", ["Aè‚¡", "ç¾è‚¡", "æ¸¯è‚¡", "ETF"])

# æ ¹æ®å¸‚åœºè°ƒæ•´è¾“å…¥æç¤º
if market == "Aè‚¡":
    hint = "å¦‚ï¼š300661, 600519"
elif market == "ç¾è‚¡":
    hint = "å¦‚ï¼šAAPL, TSLA, NVDA"
elif market == "æ¸¯è‚¡":
    hint = "å¦‚ï¼š00700 (è…¾è®¯), 09988 (é˜¿é‡Œ)"

symbol = st.text_input("ä»£ç ", placeholder=hint)
```

---

## ğŸ¯ å®æ–½å»ºè®®

### çŸ­æœŸï¼ˆ1-2å‘¨ï¼‰
1. âœ… **æ·»åŠ è‚¡ç¥¨åç§°æœç´¢**ï¼ˆæœ€å®ç”¨ï¼‰
2. âœ… **å¤šè‚¡ç¥¨å¯¹æ¯”**ï¼ˆ2-3åªï¼‰
3. âœ… **è‡ªé€‰è‚¡æ”¶è—**

### ä¸­æœŸï¼ˆ1ä¸ªæœˆï¼‰
4. âœ… **æ”¯æŒç¾è‚¡ï¼ˆYFinanceï¼‰**
5. âœ… **æ¿å—åˆ†æï¼ˆAkShareï¼‰**
6. âœ… **å®æ—¶é¢„è­¦**

### é•¿æœŸï¼ˆæŒç»­è¿­ä»£ï¼‰
7. âœ… å†å²å›æµ‹
8. âœ… AIæ™ºèƒ½è§£è¯»
9. âœ… ç§»åŠ¨ç«¯ä¼˜åŒ–

---

## ğŸ“ æ€»ç»“

### æœ€å€¼å¾—ä¼˜å…ˆå®ç°çš„åŠŸèƒ½ï¼š
1. **è‚¡ç¥¨åç§°æœç´¢** - æå¤§æå‡æ˜“ç”¨æ€§
2. **å¤šè‚¡ç¥¨å¯¹æ¯”** - å®ç”¨æ€§å¼º
3. **æ”¯æŒç¾è‚¡** - æ‰©å±•ç”¨æˆ·ç¾¤

### æ•°æ®æºå»ºè®®ï¼š
- **Aè‚¡ä¸»åŠ›**ï¼šAkShareï¼ˆå…è´¹ã€ç¨³å®šï¼‰
- **å…¨çƒå¸‚åœº**ï¼šYFinanceï¼ˆæ”¯æŒç¾è‚¡ã€æ¸¯è‚¡ï¼‰
- **ç‰¹æ®Šéœ€æ±‚**ï¼šTushareï¼ˆä½é¢‘è®¿é—®è´¢åŠ¡æ•°æ®ï¼‰

### AkShareå¯æŒ–æ˜åŠŸèƒ½ï¼š
- æ¿å—æ¦‚å¿µåˆ†æ
- å¸‚åœºæƒ…ç»ªæŒ‡æ ‡
- é¾™è™æ¦œæ•°æ®
- æ–°é—»å…¬å‘Š

éœ€è¦æˆ‘å¼€å§‹å®ç°å“ªä¸ªåŠŸèƒ½ï¼Ÿæˆ‘å¯ä»¥ä»"è‚¡ç¥¨åç§°æœç´¢"æˆ–"ç¾è‚¡æ”¯æŒ"å¼€å§‹ï¼
